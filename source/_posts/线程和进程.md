---
title: 进程和线程的理解
tags: 
- Node
- 进程
- 线程
toc: true
---

课本中：进程是cpu资源分配的最小单位，线程是cpu调度的最小单位。

> 进程就是包换上下文切换的程序执行时间总和 = CPU加载上下文+CPU执行+CPU保存上下文

进程的颗粒度太大，每次都要有上下的调入，保存，调出。如果我们把进程比喻为一个运行在电脑上的软件，那么一个软件的执行不可能是一条逻辑执行的，必定有多个分支和多个程序段，就好比要实现程序A，实际分成 a，b，c等多个块组合而成。
那么这里具体的执行就可能变成：程序A得到CPU -> CPU加载上下文，开始执行程序A的a小段，然后执行A的b小段，然后再执行A的c小段，最后CPU保存A的上下文。这里a，b，c的执行是共享了A的上下文，CPU在执行的时候没有进行上下文切换的。这里的a，b，c就是线程，也就是说线程是共享了进程的上下文环境，的更为细小的CPU时间段。

参考链接：https://www.zhihu.com/question/25532384/answer/81152571

阮一峰讲的也很形象：http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html
