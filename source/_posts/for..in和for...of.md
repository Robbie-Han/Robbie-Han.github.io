---
title: for...in å’Œ for...ofå¯¹æ¯”
toc: true
tags: 
- JS
- for...in 
- for...of
---
# for...in å’Œ for...of å¯¹æ¯”
## 1. å…³äºfor...in

### 1.1 MDNçš„å®šä¹‰
> for...inè¯­å¥ä»¥**ä»»æ„é¡ºåº**éå†ä¸€ä¸ªå¯¹è±¡`è‡ªæœ‰çš„ã€ç»§æ‰¿çš„ã€å¯æšä¸¾çš„ã€éSymbolçš„å±æ€§`ã€‚å¯¹äºæ¯ä¸ªä¸åŒçš„å±æ€§ï¼Œè¯­å¥éƒ½ä¼šè¢«æ‰§è¡Œã€‚

æ€è€ƒï¼šé€šè¿‡è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘å¾—åˆ°ä¸‰ç‚¹ç»“è®ºï¼š
  * for...in éå†çš„ç»“æœä¸ä¸€å®šå’Œè¢«éå†å¯¹è±¡çš„é¡ºåºç›¸åŒã€‚
  * for...in ä¸ä½†å¯ä»¥éå†è¢«éå†å¯¹è±¡çš„è‡ªæœ‰å±æ€§ï¼Œè¿˜å¯ä»¥éå†åŸå‹ä¸Šçš„å’Œç»§æ‰¿æ¥çš„å¯æšä¸¾å±æ€§ã€‚
  *  String çš„ indexOf()  æ–¹æ³•æˆ– Objectçš„toString()æ–¹æ³•ï¼Œè¿™äº›æ˜¾ç„¶æ˜¯åŸå‹ä¸Šä¸å¯æšä¸¾çš„å±æ€§
### 1.2 for...in è¯­æ³•
```
for (variable in object) {...}
```
å…¶ä¸­ variableä¸ºå±æ€§åï¼Œobjectæ˜¯è¢«éå†å¯¹è±¡ã€‚
### 1.3 for...in èƒ½ä¸èƒ½éå†æ•°ç»„ï¼Ÿ
> æ•°ç»„ç´¢å¼•åªæ˜¯å…·æœ‰æ•´æ•°åç§°çš„æšä¸¾å±æ€§ï¼Œå¹¶ä¸”ä¸é€šç”¨å¯¹è±¡å±æ€§ç›¸åŒã€‚ä¸èƒ½ä¿è¯for ... inå°†ä»¥ä»»ä½•ç‰¹å®šçš„é¡ºåºè¿”å›ç´¢å¼•ã€‚

è€ƒè™‘åˆ°éå†æ•°ç»„ä¸èƒ½ç›´æ¥å¾—åˆ°æ•°ç»„å…ƒç´ å’Œç´¢å¼•é¡ºåºçš„ä¸ç¡®å®šæ€§ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦ä½¿ç”¨for...inã€‚å¦å¤–for...inçš„ä¾¿åˆ©è¿˜æœ‰å¯èƒ½æŠŠæ•°ç»„åŸå‹ä¸Šçš„å±æ€§éå†å‡ºæ¥ã€‚
<!--More-->
#### 1.3.1 æ•°ç»„ä½¿ç”¨for...inä¸¾ä¾‹
```
//å‘æ•°ç»„çš„åŸå‹ä¸Šæ·»åŠ å±æ€§
Array.prototype.sayHello = function(){
    console.log("Hello")
}
Array.prototype.str = 'world';

var myArray = [1,2,10,30,100];
myArray.name='æ•°ç»„';

for(let index in myArray){
    console.log(index);
}
/*
0
1
2
3
4
name
sayHello
str
*/
```
### 1.4 for...in éå†å¯¹è±¡
ä½¿ç”¨for...inéå†å¯¹è±¡å¯ä»¥ç›´æ¥çŸ¥é“å¯¹è±¡çš„key,é—´æ¥çŸ¥é“å¯¹è±¡æ¯é¡¹å¯¹åº”çš„å€¼ï¼Œè¿™ä¹ˆä½¿ç”¨æ˜¾ç„¶æ˜¯åˆç†çš„ã€‚

#### 1.4.1 å¯¹è±¡ä½¿ç”¨for...inä¸¾ä¾‹
```

// å‘åŸå‹ä¸Šæ·»åŠ å±æ€§
Object.prototype.sayHello = function(){
  console.log('Hello');
}
Object.prototype.str = 'World';
var myObject = {name: 'zhangsan', age: 100};

for(let index in myObject){
    console.log(index);
}
/*
name
age
sayHello
str
*/
```
#### 1.4.2 å¦‚ä½•åªéå†è‡ªæœ‰å±æ€§
  ä½¿ç”¨`hasOwnProperty()`,å¯ä»¥ä¿è¯åªè¿­ä»£è‡ªèº«å±æ€§
```
for(let index in myObject){
    if(myObject.hasOwnProperty(index)){
        console.log(index)
    }
}
```
## 2. å…³äºfor...of
### 2.1 MDNçš„å®šä¹‰
> for...of è¯­å¥åœ¨å¯è¿­ä»£å¯¹è±¡ï¼ˆåŒ…æ‹¬ Arrayï¼ŒMapï¼ŒSetï¼ŒStringï¼ŒTypedArrayï¼Œarguments å¯¹è±¡ç­‰ç­‰ï¼‰ä¸Šåˆ›å»ºä¸€ä¸ªè¿­ä»£å¾ªç¯ï¼Œè°ƒç”¨è‡ªå®šä¹‰è¿­ä»£é’©å­ï¼Œå¹¶ä¸ºæ¯ä¸ªä¸åŒå±æ€§çš„å€¼æ‰§è¡Œè¯­å¥ã€‚

æ€è€ƒï¼šé€šè¿‡è¿™ä¸ªå®šä¹‰ï¼Œæˆ‘å¾—åˆ°ä¸‰ç‚¹ç»“è®ºï¼š
* for...of åªèƒ½ç”¨äºå¯è¿­ä»£å¯¹è±¡ï¼Œä¸”å¯ä»¥é€šè¿‡è¿­ä»£çš„è¿‡ç¨‹ä¸­ç›´æ¥æ‹¿åˆ°å±æ€§å€¼ã€‚
* å¯¹è±¡æ˜¯ä¸å¯ä»¥è¿­ä»£çš„ï¼Œæ˜¾ç„¶ä¸é€‚ç”¨äºfor...ofã€‚
* for...of å’ŒforEach()åœ¨éå†æ•°ç»„çš„æ—¶å€™ä¼šæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ
### 2.2 for...of è¯­æ³•

```
for (variable of iterable) {
    //statements
}
```
variableå¯¹åº”æ¯æ¬¡è¿­ä»£ä¸­å±æ€§çš„å€¼ï¼Œiterableå¯¹åº”çš„æ˜¯è¢«è¿­ä»£çš„å¯¹è±¡ã€‚
### 2.3 for...in éå†å¯è¿­ä»£çš„å¯¹è±¡
#### 2.3.1 for...inè¿­ä»£æ•°ç»„
```
let iterable = [10, 20, 30];

for (let value of iterable) {
    value += 1;
    console.log(value);
}
// 11
// 21
// 31

```
#### 2.3.2 for...inè¿­ä»£å­—ç¬¦ä¸²
```
let iterable = "boo";

for (let value of iterable) {
  console.log(value);
}
// "b"
// "o"
// "o"
```
    å¯¹å­—ç¬¦ä¸²å’Œæ•°ç»„çš„è¿­ä»£æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼Œå…¶å®ƒå¯è¿­ä»£çš„æ•°æ®ç±»å‹åœ¨é¡¹ç›®ä¸­è§çš„æ¯”è¾ƒå°‘
#### 2.3.3 for...inè¿­ä»£set
```
let iterable = new Set([1, 1, 2, 2, 3, 3]);

for (let value of iterable) {
  console.log(value);
}
// 1
// 2
// 3
```
    è¿™ä¸ªä¾‹å­ä¹Ÿä½è¯äº†åˆ©ç”¨setå¯ä»¥å¯¹æ•°ç»„å»é‡ã€‚[...iterable]è§£æ„ç»™æ•°ç»„å³å¯

### 2.3.4 for...inè¿­ä»£Map
```
let iterable = new Map([["a", 1], ["b", 2], ["c", 3]]);

for (let entry of iterable) {
  console.log(entry);
}
// ["a", 1]
// ["b", 2]
// ["c", 3]

for (let [key, value] of iterable) {
  console.log(value);
}

// 1
// 2
// 3
```
    Mapè¿™ä¸ªè¿­ä»£å¼•å‘æ€è€ƒï¼š[key, value]æ˜¯ entryçš„è§£æ„å†™æ³•ï¼Ÿé‚£iterableæ˜¯ä¸æ˜¯æŸç§è¿­ä»£å™¨çš„ç®€å†™ï¼Ÿ
#### 2.3.4.1 é›†åˆå¯¹è±¡è¿­ä»£å™¨ï¼š
ES6ä¸­ğŸˆ¶ï¸ä¸‰ç§ç±»å‹çš„é›†åˆå¯¹è±¡ï¼šArray Setå’Œ Mapï¼Œ
è¿™æ˜¯ä¸‰è€…éƒ½åŒ…å«ä¸‰ç§è¿­ä»£å™¨ï¼š
* entries() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå…¶å€¼ä¸ºå¤šä¸ªé”®å€¼å¯¹çš„é›†åˆ [key,value]
* values()  è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå…¶å€¼ä¸ºé›†åˆçš„å€¼ value
* keys() è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå…¶å€¼ä¸ºé›†åˆä¸­æ‰€æœ‰çš„é”®å key

      æ€è€ƒï¼š
      * å¯¹äºArrayå’ŒSetç±»å‹çš„å¯¹è±¡ï¼Œè¿™ä¸‰ä¸ªè¿­ä»£å™¨æ„ä¹‰ä¸å¤§ã€‚æ•°ç»„çš„indexç”¨éå†å™¨è¿­ä»£æ²¡å•¥æ„ä¹‰ï¼Œå¯¹äºSet,é”®å€¼ç›¸åŒã€‚
      * å¯¹äºMapæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå¯ä»¥å¾—åˆ°Mapä¸­æ¯ä¸ªå…ƒç´ çš„é”®å’Œå€¼

eg: å¯¹äºSet
```
let iterable = new Set([3322, 2233]);

for (let entry of iterable.entries()) {
  console.log(entry);
}
/*
[3322, 3322]
[2233, 2233]
*/
```
eg: å¯¹äºMap
```
let iterable = new Map([["a", 1], ["b", 2], ["c", 3]]);
// é”®ï¼š
for (let key of iterable.keys()) {
  console.log(key);
}
// å€¼
for (let value of iterable.values()) {
  console.log(value);
}
```
### 2.3.5 for...inè¿­ä»£arguments
```
function iterator(){
 for (let argument of arguments) {
    console.log(argument);
  }
}
iterator('han','robbie','TS')
// han
// robbie
// TS
```
# 3. for...in å’Œfor...ofæ€»ç»“
     å¯¹äºfor...inï¼Œå®ƒå¯ä»¥éå†è‡ªæœ‰çš„ã€åŸå‹ä¸Šçš„ã€ç»§æ‰¿æ¥çš„å¯æšä¸¾å±æ€§ï¼Œé€‚åˆå»éå†å¯¹è±¡,å¹¶å¾—åˆ°å±æ€§å
     å¯¹äºfor...ofï¼Œå®ƒå¯ä»¥éå†å¯è¿­ä»£çš„å¯¹è±¡ï¼Œå¯ä»¥å¾—åˆ°å¯è¿­ä»£å¯¹è±¡å±æ€§çš„å€¼ï¼Œé€‚åˆéå†å­—ç¬¦ä¸²ã€æ•°ç»„ã€Setã€Mapç­‰